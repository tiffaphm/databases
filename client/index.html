
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Chat with JSON!</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="lib/jquery/jquery-1.9.1.js"></script>
    <script src="lib/moment.min.js"></script>
  </head>
  <body>

    <div id="main">
      <h1 class="title">Chat with JSON</h1>
      <ul></ul>
    </div>

    <div id="controls">
      <div id="post">
        <h3>Add Username</h3>
        <form class="submit-new-user">
          <div id="userandroom">
            <p>
            <label for="username" value="create new username">
            <input class="new-username-input" id="userName" type="text" placeholder="create new user"/>
            </p>
          </div>
          <div id="submitbutton" class="newUser">
            <input id="submitButton" type="submit" value="submit"/>
          </div>
        </form>
      </div>

      <div id="post">
        <h3>Add Room</h3>
        <form class="submit-new-room">
          <div id="userandroom">
            <p>
              <label for="roomname" value="create new room">
              <input class="new-roomname-input" id="roomName" type="text" placeholder="create new room"/>
            </p>
          </div>
          <div id="submitbutton" class="newRoom">
            <input id="submitButton" type="submit" value="submit"/>
          </div>
        </form>
      </div>
      
      <div id="post">
        <h3>Post a Message</h3>
        <form class="submit-new-message">
          <div id="userandroom">
            <p>
              <label for="username" value="username">
              <input class="usernameInput" id="userName" type="text" placeholder="username"/>
            </p>
          </div>
          <div id="submitbutton" class="add-message">
            <input id="submitButton" type="submit" value="submit"/>
          </div>
          <p>
            <label for="userInput" value="message">
            <input class="userInput" id="userInput" type="text" name="message" placeholder="message"/>
          </p>
        </form>
      </div>
    </div>
    <script src="js/setup.js"></script>
    <script>
      // Get messages every 7.5 seconds
      getData();
      setInterval(getData, 7500);

      $('.submit-new-message').on('submit', function(event) {
        event.preventDefault();
        var username = $('.usernameInput').val();
        $('#backButton').toggle();
        $('.title').text('Chat with JSON');

        postData($('.userInput').val(), username);
        $('.userInput').val('');
      });
    </script>
  </body>
</html>
